<!DOCTYPE html>
<html>
  <head>
    <title>ElectroLab</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <style>
      .custom-container{
        padding-left: 55px;
        padding-right: 55px;
      }
      .btn-default{
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        padding: 8px;
        background: #D62A70;
        border-radius: 20px;
        color: #ffffff;
        min-width: 100px;
        margin-right: 10px;
      }
      .btn-default:hover{
        color: #ffffff;
      }
      .btn-active{
        background: #0D99FF !important;
        color: #ffffff !important;
      }
      .btn-white{
        background: #ffffff;
        color: #000000;
        box-shadow: 2px 2px 10px rgba(13, 39, 107, 0.06);
        border-radius: 35px;
      }
      .btn-white:hover{
        color: #ffffff;
        background: #0D99FF;
      }
      .search-box{
        background: #FAFAFA;
        border: 1px solid #D62A70;
        box-sizing: border-box;
        border-radius: 8px 0px 0px 8px;
        height: 35px;
        width: 250px;
        padding-left: 8px;
      }
      .search-btn{
        background: #D62A70;
        border: 1px solid #D62A70;
        box-sizing: border-box;
        border-radius: 0px 8px 8px 0px;
        color: #ffffff;
        height: 35px;
        margin-left: -3px;
        padding-top: 3px;
      }
      .search-container{
        padding-top: 25px;
        margin-left: 30px;
      }
      .menu-text{
        padding-left: 4px;
      }
      .menu-wrapper{
        display: flex;
      }
      .link-reset{
        text-decoration: none !important;
      }
      .content-n-sidemenu{
        display: flex;
        justify-content: space-between;
      }
      .sidemenu-box{
        background: #F9F9F9;
        border-radius: 24px;
        padding: 25px;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        max-width: 400px;

      }
      .menu-box{
        background: #F25425;
        border-radius: 30px;
        height: 111px;
        width: 111px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .menu-wrap{
        height: 120px;
        margin: 20px;
        text-align: center;
        cursor: pointer;
      }

      .sidemenu-active{
        background: #F7A9B6 !important;
        cursor: default;
      }

      .content-box{
        padding-top: 20px;
        min-height: calc(100vh - 415px) !important;
      }

      .footer{
        margin-top: 40px;
        padding-top: 30px;
        padding-bottom: 40px;
        border-top: 1px solid #DDDDDD;
        border-bottom: 1px solid #DDDDDD;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .logo-desc{
        width: 230px;
        font-style: normal;
        font-weight: 400;
        font-size: 16px;
        line-height: 28px;
        color: rgba(0, 0, 0, 0.6);
      }

      .copyright{
        text-align: center;
        padding-bottom: 15px;
        font-weight: 400;
        font-size: 14px;
        line-height: 17px;
        letter-spacing: -0.02em;

        color: rgba(0, 0, 0, 0.6);
      }

      .contacts{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .contacts-title{
        font-style: normal;
        font-weight: 600;
        font-size: 20px;
        line-height: 28px;
        color: rgba(0, 0, 0, 0.6);
      }

      .contacts-text{
        font-style: normal;
        font-weight: 400;
        font-size: 16px;
        line-height: 28px;
        color: rgba(0, 0, 0, 0.6);
      }

      .social-icon{
        padding-right: 10px;
      }
      .link-reset{
        text-decoration: none !important;
        color: #000
      }

        .separator {
          display: flex;
          align-items: center;
          text-align: center;
          width: 100%;
          padding-left: 30px;
          padding-right: 30px;
          padding-top: 10px;
          padding-bottom: 10px;
          color: #000000;
          font-size: 14px;
        }

        .separator::before,
        .separator::after {
          content: '';
          flex: 1;
          border-bottom: 1px solid #E5E5E5
        }

        .separator:not(:empty)::before {
          margin-right: .25em;
        }

        .separator:not(:empty)::after {
          margin-left: .25em;
        }

        .select-wrapper{
          display: flex;
          width: 100%;
          align-items: center;
          justify-content: center;
        }

        .select-element{
          background: #FFFFFF;
          border: 1px solid #211747;
          box-sizing: border-box;
          border-radius: 20px;
          height: 36px;
          width: 270px;
          padding-left: 5px;
          padding-right: 5px;
        }
      
    </style>
  </head>

  <body>
    
    <nav class="navbar navbar-expand-lg navbar-light px-5">

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item <%= active_class(homePage_path) %>">
                    <%= link_to image_tag('logo-maroon.png'), homePage_path, :class => 'nav-link' %>
                </li>

                <li class="nav-item search-container">
                    <%= search_form_for @q, url: posts_search_url , method: :get  do |f| %>
                    <%= f.text_field :title_or_description_cont, class: 'search-box', placeholder: "Search for any projects here"%>
                    <%= submit_tag ("Search"), class:'search-btn' %>
                    <% end %>
                </li>
                
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item <%= active_class(homePage_path) %>">
                  <%= link_to 'About ElectroLab', homePage_path, :class => 'nav-link' %>
                </li>

                <% if user_signed_in? %>
                <li class="nav-item <%= active_class(author_profile_path(current_user)) %>">
                <%= link_to "Welcome, #{current_user.email}", author_profile_path(current_user), class: 'nav-link' %>
                </li>
                <li class="nav-item">
                    <%= link_to 'Sign Out', destroy_user_session_path, method: :delete, class: 'btn-default' %>
                </li>
                <% else %>
                <li class="nav-item <%= active_class(new_user_session_path) %>">
                    <%= link_to 'Sign In', new_user_session_path, class: 'nav-link' %>
                </li>
                <li class="nav-item <%= active_class(new_user_registration_path) %>">
                    <%= link_to 'Sign Up', new_user_registration_path, class: 'nav-link' %>
                </li>
                <% end %>
            </ul>
        </div>
    </nav>
    
    <main role="main" class="custom-container">

      <% flash.each do |key, message| %>
        <div class="alert <%= flash_class(key) %> alert-dismissible fade show text-center" role="alert">
          <%= message %>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <% end %>

      <div class="menu-wrapper">
        <% if !current_user.admin %>
           <%= link_to homePage_url, class: 'link-reset' do %>
            <button class="btn btn-default btn-white <%=active_menu(homePage_path) %>">
              <%= image_tag('icon-home-black.svg', :size=>'20xauto') %>
              <span class="menu-text">Home</span>
            </button>
          <% end %>
          

          <%= link_to new_post_url, class: 'link-reset' do %>
            <button class="btn btn-default btn-white <%= active_menu(new_post_path) %>">
                <%= image_tag('icon-edit.svg', :size=>'20xauto') %>
                <span class="menu-text">Create New Post</span>
            </button>
          <% end %>
         <% end %>
      </div>

      <div class="row content-n-sidemenu">
        <div class="col-8 content-box">
          <%= yield %>
        </div>

        <div class="col-4">
          <div class="sidemenu-box">
            <div class="menu-wrap">
                <div class="menu-box <%=active_sidemenu(featured_posts_path) %>">
                  <%= link_to image_tag('icon-featured.svg'), featured_posts_path %>
                </div>
                <span>Featured Post</span>
            </div>

            <%= link_to all_messages_url, class: 'link-reset' do %>
              <div class="menu-wrap">
                  <div class="menu-box <%=active_sidemenu(all_messages_path) %>">
                    <%= image_tag('icon-message.svg') %>
                  </div>
                  <span>Messages</span>
              </div>
            <% end %>

          <%= link_to my_posts_path, class: 'link-reset' do %>
            <div class="menu-wrap">
             <div class="menu-box <%=active_sidemenu(my_posts_path) %>">
                <%= image_tag('icon-my-posts.svg') %>
              </div>
              <span>My Posts</span>
            </div>
          <% end %>

          <%= link_to my_shelf_path, class: 'link-reset' do %>
            <div class="menu-wrap">
                <div class="menu-box <%=active_sidemenu(my_shelf_path) %>">
                  <%= image_tag('icon-my-shelf.svg') %>
                </div>
                <span>My Shelf</span>
            </div>
          <% end %>

            <div class="separator">Browse Projects By Category</div>
            <div class="select-wrapper">
              <%= form_for(@category, url: posts_category_url , method: :get) do |f| %>
                  <div class="field">
                      <%= f.collection_select(:id, Category.all, :id, :name, {:include_blank => 'Please Select Category'}, class: 'select-element', onchange: 'this.form.submit()') %>
                  </div>
              <% end %>
            </div>
            
        </div>
      </div>

        <div class="col-12 footer">
          <div class="logoWrapper">
            <div class="logo-container">
              <%=image_tag("logo-large.png", alt: "Electro Lab Logo", class:'about-logo') %>
            </div>
          </div>
          <div class="contacts">
            <div class="contacts-title">Contacts</div>
            <div class="contacts-text">info@electrolab.com</div>
            <div class="contacts-text">+1(901)444-7777</div>
          </div>
          <div class="">
             <%=image_tag("icon-facebook.png", alt: "Facebook Logo", class:'social-icon') %>
             <%=image_tag("icon-twitter.png", alt: "Twitter Logo", class:'social-icon') %>
             <%=image_tag("icon-instagram.png", alt: "Instagram Logo", class:'social-icon') %>
          </div>
        </div>

      </div>

      <div class="col-12 copyright">
        © 2022 ElectroLab. Developed for Software Engineering Project
      <div>





    </main>
  </body>
</html>
